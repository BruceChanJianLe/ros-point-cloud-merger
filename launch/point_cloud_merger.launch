<?xml version="1.0"?>
<!-- this merges the PointCloud2s -->

<!-- type is the file you want to launch in the package 
  name is a unique identifier for your node. -->
<launch>

  <!-- replace with the desired input topics -->
  <arg name="input_topics" default="[/velodyne_points, /velodyne_points1, /velodyne_points2, /velodyne_points3, /velodyne_points4, /velodyne_points5, /velodyne_points6, /velodyne_points7]" />
  <!-- replace with the desired output topic -->
  <arg name="output_topic" default="/points_concat" />
  <!-- replace with the desired output frame -->
  <arg name="output_frame_id" default="velodyne_frame" />

  <!-- replace with the desired min range from base_link -->
  <arg name="min_range" default="0.9" />
  <!-- replace with the desired max range from base_link -->
  <arg name="max_range" default="2.0" />

  <node name="point_cloud_merger_node" output="screen" pkg="ros-point-cloud-merger" type="point_cloud_merger_node">
    <param name="output_frame_id" value="$(arg output_frame_id)"/>
    <param name="input_topics" value="$(arg input_topics)"/>
    
    <!-- <remap from="/points_concat" to="$(arg output_topic)"/> -->
    <param name="output_topic" value="$(arg output_topic)"/>

    <param name="min_range" value="$(arg min_range)" />
    <param name="max_range" value="$(arg max_range)" />
  </node>

</launch>
